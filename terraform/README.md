---
title: Terraform
homepage: https://www.terraform.io/
tagline: |
  Provision, change, and version resources on any environment.
description: |
  Terraform is an infrastructure as code (IaC) tool that allows you to build, change, and version infrastructure safely and efficiently.
---

## Cheat Sheet

> With HashiCorp Terraform, provisioning and security can be automated based on
> infrastructure and policy as code. Infrastructure and policies are codified,
> shared, managed, and executed within a workflow that is consistent across all
> infrastructure.

### Defining infrastructure state

Create configurations that provide an outline for Terraform to provision your
target infrastructure. E.g.,

```tf
# main.tf

terraform {
  required_providers {
    docker = {
      source = "kreuzwerker/docker"
      version = "~> 2.13.0"
    }
  }
}

provider "docker" {
    # provider-specific configuration goes here, e.g.,
    # browse provider documentation here https://registry.terraform.io/browse/providers
}

# Define some resources!
resource "docker_image" "nginx" {
    name         = "nginx:latest"
    keep_locally = false
}

resource "docker_container" "nginx" {
    image = docker_image.nginx.latest
    name  = "web-server"
    ports {
        internal = 80
        external = 8080
    }
}
```

### Initializing Terraform

Terraform needs to install provider-specific plugins, generate lockfiles, etc.
before you can begin provisioning.

`terraform init`

You should only need to run this on new configurations, or other configurations
checked-out from version control.

### Checking your configuration

To check you have a valid configuration

`terraform validate`

To format your configuration files

`terraform fmt`

### Provisioning resources

You can generate an execution plan before commiting to provisioning real
resources. This command allows you to see exactly what Terraform will do when
running the next command.

`terraform plan`

**Then, to apply your configurations and provision infrastructure resources.**

`terraform apply`

To automatically accept all user prompts when running this command

`terraform apply -auto-approve`

### Execution plans

Execution plans generated by `terraform plan` also act as the _last working
state of your infrastructure_. You may wish to save the generated `.tfstate`
file so that you may re-provision these resources reliably.

You can pass in the execution plan to `terraform apply` (example):

`terraform apply -auto-approve main.tf`
